import org.openhab.core.library.types.*
import org.openhab.model.script.actions.*
import org.openhab.core.persistence.*

// Cron Jobs

rule "Turn Off Auto-Away Heat"
  when
    Time cron "0 */10 15-18 ? * MON-FRI *"
  then
    if (Nest_ambient_temperature_f.state < 69 && Nest_can_heat.state == ON && NestHome_away.state == "auto-away") {
      logDebug("rules", "Winter Nest - Set to Home")
      sendCommand(NestHome_away, "home")
    }
  end
  
rule "Turn Off Auto-Away Cool"
  when
    Time cron "0 */10 16-18 ? * MON-FRI *"
  then
    if (Nest_ambient_temperature_f.state >= 73 && Nest_can_cool.state == ON && NestHome_away.state == "auto-away") {
      logDebug("rules", "Summer Nest - Set to Home")
      sendCommand(NestHome_away, "home")
    }
  end
